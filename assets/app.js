angular.module("salaryGuide",["ui.router"]),angular.module("salaryGuide").controller("adCTRL",["$scope","adSVC",function(e,a){e.device=a.getDevice(),$(window).resize(function(){e.$apply(function(){e.device=a.getDevice()})})}]),angular.module("salaryGuide").service("adSVC",function(){var e={desktop:!0,phone:!1};this.getDevice=function(){var a=window.innerWidth;return a>500&&(e.desktop=!0,e.phone=!1),500>a&&(e.desktop=!1,e.phone=!0),e}}),angular.module("salaryGuide").controller("detailCTRL",["$scope","$stateParams","searchSVC","adSVC","$controller",function(e,a,t,s,l){l("adCTRL",{$scope:e}),t.details({id:a.id}).success(function(a){e.person=a})}]),angular.module("salaryGuide").controller("mainCTRL",["$scope","adSVC","$controller",function(e,a,t){t("adCTRL",{$scope:e}),$(document).ready(function(){$("#carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0,variableWidth:!0,centerMode:!0})})}]),angular.module("salaryGuide").config(["$stateProvider",function(e,a){e.state("home",{url:"/",templateUrl:"index.html",controller:"mainCTRL"}).state("search",{url:"/search",templateUrl:"search.html",controller:"searchCTRL",resolve:{preloadOBJ:["$http",function(e){return e({method:"GET",url:"/api/departments"})}]}}).state("details",{url:"/details/:id",templateUrl:"details.html",controller:"detailCTRL"})}]).run(["$state",function(e){e.go("home"),$(document).foundation()}]),angular.module("salaryGuide").controller("searchCTRL",["$scope","searchSVC","$location","$state","adSVC","preloadOBJ","$controller",function(e,a,t,s,l,n,r){function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}r("adCTRL",{$scope:e}),e.results=[],a.cache?(e.results=a.cache,e.display=!0):(e.results=null,e.display=null),e.searchByName=function(t){for(var s=t.split(" "),l=0;l<s.length;l++)s[l]=o(s[l]);t=s.join(" "),s=t.split("'");for(var l=0;l<s.length;l++)s[l]=o(s[l]);t=s.join("'"),a.search({name:t}).success(function(t){e.results=t,a.setCache(t)}),e.name=null,e.display=t},e.searchByDept=function(t){a.search({dept:t}).success(function(t){e.results=t,a.setCache(t)}),e.dept=null,e.display=t},e.searchByCampus=function(t){a.search({campus:t}).success(function(t){e.results=t,a.setCache(t)}),e.campus=null,e.display=t},e.details=function(e){s.go("details",{id:e})},e.preload=n.data}]),angular.module("salaryGuide").service("searchSVC",["$http",function(e){this.search=function(a){return e.post("/api/search",a)},this.details=function(a){return e.post("/api/details",a)},this.cache=null,this.setCache=function(e){this.cache=e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkQ1RSTC5qcyIsImFkdmVydGlzZW1lbnRTVkMuanMiLCJkZXRhaWxzQ1RSTC5qcyIsIm1haW5DVFJMLmpzIiwicm91dGVzLmpzIiwic2VhcmNoQ1RSTC5qcyIsInNlYXJjaFNWQy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsImFkU1ZDIiwiZGV2aWNlIiwiZ2V0RGV2aWNlIiwiJCIsIndpbmRvdyIsInJlc2l6ZSIsIiRhcHBseSIsInNlcnZpY2UiLCJkZXNrdG9wIiwicGhvbmUiLCJ0aGlzIiwiZGV2aWNlV2lkdGgiLCJpbm5lcldpZHRoIiwiJHN0YXRlUGFyYW1zIiwic2VhcmNoU1ZDIiwiJGNvbnRyb2xsZXIiLCJkZXRhaWxzIiwiaWQiLCJzdWNjZXNzIiwiZSIsInBlcnNvbiIsImRvY3VtZW50IiwicmVhZHkiLCJzbGljayIsImluZmluaXRlIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJhcnJvd3MiLCJhZGFwdGl2ZUhlaWdodCIsInZhcmlhYmxlV2lkdGgiLCJjZW50ZXJNb2RlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzZWFyY2hTdmMiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwicmVzb2x2ZSIsInByZWxvYWRPQkoiLCIkaHR0cCIsIm1ldGhvZCIsInJ1biIsIiRzdGF0ZSIsImdvIiwiZm91bmRhdGlvbiIsIiRsb2NhdGlvbiIsImNhcGl0YWxpemUiLCJ3b3JkIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInJlc3VsdHMiLCJjYWNoZSIsImRpc3BsYXkiLCJzZWFyY2hCeU5hbWUiLCJuYW1lIiwibmFtZXMiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJqb2luIiwic2VhcmNoIiwicmVzdWx0Iiwic2V0Q2FjaGUiLCJzZWFyY2hCeURlcHQiLCJkZXB0Iiwic2VhcmNoQnlDYW1wdXMiLCJjYW1wdXMiLCJwcmVsb2FkIiwiZGF0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Q0F4RCxFQUFBc0QsUUFBQUUsR0FHQXhELEVBQUFpRSxhQUFBLFNBQUFDLEdBR0FuRCxFQUFBK0MsUUFBQUksS0FBQUEsSUFDQS9DLFFBQUEsU0FBQTRDLEdBQ0EvRCxFQUFBb0QsUUFBQVcsRUFDQWhELEVBQUFpRCxTQUFBRCxLQUVBL0QsRUFBQWtFLEtBQUEsS0FDQWxFLEVBQUFzRCxRQUFBWSxHQUdBbEUsRUFBQW1FLGVBQUEsU0FBQUMsR0FHQXJELEVBQUErQyxRQUFBTSxPQUFBQSxJQUNBakQsUUFBQSxTQUFBNEMsR0FDQS9ELEVBQUFvRCxRQUFBVyxFQUNBaEQsRUFBQWlELFNBQUFELEtBRUEvRCxFQUFBb0UsT0FBQSxLQUNBcEUsRUFBQXNELFFBQUFjLEdBSUFwRSxFQUFBaUIsUUFBQSxTQUFBQyxHQUNBeUIsRUFBQUMsR0FBQSxXQUFBMUIsR0FBQUEsS0FJQWxCLEVBQUFxRSxRQUFBOUIsRUFBQStCLFFDN0VBekUsUUFBQUMsT0FBQSxlQUNBVSxRQUFBLGFBQUEsUUFBQSxTQUFBZ0MsR0FFQTdCLEtBQUFtRCxPQUFBLFNBQUFTLEdBQ0EsTUFBQS9CLEdBQUFnQyxLQUFBLGNBQUFELElBR0E1RCxLQUFBTSxRQUFBLFNBQUFzRCxHQUNBLE1BQUEvQixHQUFBZ0MsS0FBQSxlQUFBRCxJQUVBNUQsS0FBQTBDLE1BQUEsS0FDQTFDLEtBQUFxRCxTQUFBLFNBQUFGLEdBQ0FuRCxLQUFBMEMsTUFBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGVsaSBvbiAzLzIzLzE1LlxuICovXG5cbi8vIFRoaXMgbmVlZHMgdG8gYmUgbG9hZGVkIGZpcnN0IGJlY2F1c2UgaXQgZGVmaW5lcyB0aGUgZGVwZW5kZW5jaWVzLiBUaGUgZ3VscCB0YXNrIHdpbGwgYWx3YXlzIGNvbmNhdCB0aGlzIHRvIHRoZSB0b3Agb2YgZmlsZVxuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJywgWyd1aS5yb3V0ZXInXSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDUvMTMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwic2FsYXJ5R3VpZGVcIilcbi5jb250cm9sbGVyKFwiYWRDVFJMXCIsZnVuY3Rpb24oJHNjb3BlLCBhZFNWQyl7XG4gICAgLy8gVGhpcyBjaGVja3MgdG8gc2VlIHdoYXQgc2l6ZSBhZHMgdG8gZGlzcGxheVxuICAgICRzY29wZS5kZXZpY2UgPSBhZFNWQy5nZXREZXZpY2UoKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS5kZXZpY2UgPSBhZFNWQy5nZXREZXZpY2UoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KSIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gNC8xNC8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJzYWxhcnlHdWlkZVwiKVxuLnNlcnZpY2UoJ2FkU1ZDJyxmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZGV2aWNlID0ge1xuICAgICAgICAgICAgZGVza3RvcDogdHJ1ZSxcbiAgICAgICAgICAgIHBob25lOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldERldmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBTZXRzIGZsYWdzIGZvciB3aGljaCBkZXZpY2UgaXMgYmVpbmcgdXNlZCB0byBpbmplY3QgdGhlIHByb3BlciBhZCBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgIHZhciBkZXZpY2VXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICAgICAgICBpZihkZXZpY2VXaWR0aCA+IDUwMCl7XG4gICAgICAgICAgICAgICAgZGV2aWNlLmRlc2t0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRldmljZS5waG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGV2aWNlV2lkdGggPCA1MDApe1xuICAgICAgICAgICAgICAgIGRldmljZS5kZXNrdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZGV2aWNlLnBob25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VcbiAgICAgICAgfVxuICAgIH0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yNi8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5jb250cm9sbGVyKCdkZXRhaWxDVFJMJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIHNlYXJjaFNWQywgYWRTVkMsICRjb250cm9sbGVyKXtcbiAgICAgICAgLy8gSW5oZXJpdCBmcm9tIGFkQ1RSTFxuICAgICAgICAkY29udHJvbGxlcignYWRDVFJMJyx7JHNjb3BlOiAkc2NvcGV9KTtcblxuICAgICAgICAvLyBHZXRzIHVzZXJpZCBmcm9tIFVSTCBhbmQgc2VuZHMgaXQgdG8gc2VydmVyIHRvIGdldCBhbGwgdGhlIGluZm8gb24gdGhhdCBwZXJzb25cbiAgICAgICAgc2VhcmNoU1ZDLmRldGFpbHMoe2lkOiRzdGF0ZVBhcmFtcy5pZH0pXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGVyc29uID0gZTtcbiAgICAgICAgICAgIH0pO1xufSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGVsaSBvbiAzLzI2LzE1LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnc2FsYXJ5R3VpZGUnKVxuLmNvbnRyb2xsZXIoJ21haW5DVFJMJyxmdW5jdGlvbigkc2NvcGUsIGFkU1ZDLCAkY29udHJvbGxlcil7XG5cbiAgICAgICAgLy8gSW5oZXJpdCBmcm9tIGFkQ1RSTFxuICAgICAgICAkY29udHJvbGxlcignYWRDVFJMJyx7JHNjb3BlOiAkc2NvcGV9KTtcblxuICAgICAgICAvLyBUaGlzIGlzIGZvciB0aGUgc3RvcnkgY2Fyb3VzZWwgb24gdGhlIG1haW4gcGFnZVxuICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAgICAgJChcIiNjYXJvdXNlbFwiKS5zbGljayh7XG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDMvMjMvMTUuXG4gKi9cblxuLy8gVG8gYWRkIGEgbmV3IHBhZ2UgdG8gdGhlIHNpdGUsIHlvdSB3aWxsIGJlIGFkZGluZyBhIHN0YXRlIGhlcmUsIHNldHRpbmcgdGhlIFVSTCBhbmQgdGVtcGxhdGUgZmlsZSwgYW5kIGNvbm5lY3RpbmcgaXQgdG8gYSBjb250cm9sbGVyLlxuLy8gT3B0aW9uYWxseSwgdGhlIHJlc29sdmUgbWV0aG9kIHRha2VzIGFuIG9iamVjdCBvZiBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkLiBHb29kIGZvciBwcmVsb2FkaW5nIGRhdGFcbmFuZ3VsYXIubW9kdWxlKCdzYWxhcnlHdWlkZScpXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJyxmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgc2VhcmNoU3ZjKXtcbiAgICAgICAgLy8gVGhlc2Ugc3RhdGVzIGNvcnJlc3BvbmQgdG8gdGhlIHBhZ2VzIG9uIHRoZSBhcHAuIEhvb2tzIHVwIHRlbXBsYXRlcyBhbmQgdmlld3NcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLHtcbiAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpbmRleC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ1RSTCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdzZWFyY2gnLHtcbiAgICAgICAgICAgIHVybDogJy9zZWFyY2gnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzZWFyY2guaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnc2VhcmNoQ1RSTCcsXG4gICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBxdWVyaWVzIHRoZSBzZXJ2ZXIgZm9yIGRpc3RpbmN0IGRlcGFydG1lbnRzIGFuZCBwcmVsb2FkcyB0aGUgZGVwYXJ0bWVudHMgZHJvcCBkb3duXG4gICAgICAgICAgICAgICAgcHJlbG9hZE9CSjogZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRodHRwKHttZXRob2Q6J0dFVCcsdXJsOicvYXBpL2RlcGFydG1lbnRzJ30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkZXRhaWxzJyx7XG4gICAgICAgICAgICAgICAgLy8gVGhlIDppZCBpcyB0aGUgc3RyaW5nIHBhc3NlZCBpbiBmcm9tIHRoZSBVUkwgY29ycmVzcG9uZHMgdG8gdGhlIHBlcnNvbklEIGluIHRoZSB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgIHVybDogJy9kZXRhaWxzLzppZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2RldGFpbHMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnZGV0YWlsQ1RSTCdcbiAgICAgICAgfSlcbiAgICB9XSlcbiAgICAucnVuKFsnJHN0YXRlJyxmdW5jdGlvbigkc3RhdGUpe1xuICAgICAgICAvLyBFdmVyeXRoaW5nIGluc2lkZSBoZXJlIHdpbGwgYmUgcnVuIG9uZSB0aW1lIG9uY2UgdGhlIGFwcCBoYXMgbG9hZGVkLiBHb29kIHBsYWNlIHRvIGluaXRpYWxpemUgYW55dGhpbmcgeW91IHdpbGwgYmUgdXNpbmdcbiAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgICAgICQoZG9jdW1lbnQpLmZvdW5kYXRpb24oKTtcbiAgICB9XSk7XG5cbiIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yMy8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5jb250cm9sbGVyKCdzZWFyY2hDVFJMJyxmdW5jdGlvbigkc2NvcGUsIHNlYXJjaFNWQywgJGxvY2F0aW9uLCAkc3RhdGUsIGFkU1ZDLCBwcmVsb2FkT0JKLCAkY29udHJvbGxlcil7XG5cbiAgICAvLyBUaGlzIHRlbGxzIHRoZSBwYWdlIHRvIGluaGVyaXQgZnJvbSB0aGUgYWRDVFJMXG4gICAgJGNvbnRyb2xsZXIoJ2FkQ1RSTCcseyRzY29wZTogJHNjb3BlfSk7XG5cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHdvcmQpIHtcbiAgICAgICAgcmV0dXJuIHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpO1xuICAgIH1cbiAgICAkc2NvcGUucmVzdWx0cyA9IFtdO1xuXG4gICAgLy8gVGhpcyBpcyBmb3Igc2F2aW5nIHNlYXJjaGVzIHdoZW4gbmF2aWdhdGluZyBiYWNrIGZyb20gdGhlIGRldGFpbHMgcGFnZVxuICAgIGlmIChzZWFyY2hTVkMuY2FjaGUpe1xuICAgICAgICAkc2NvcGUucmVzdWx0cyA9IHNlYXJjaFNWQy5jYWNoZTtcbiAgICAgICAgJHNjb3BlLmRpc3BsYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS5yZXN1bHRzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmRpc3BsYXkgPSBudWxsO1xuICAgIH1cblxuXG4gICAgJHNjb3BlLnNlYXJjaEJ5TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cbiAgICAgICAgLy8gQ2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIgaW4gZWFjaCB3b3JkIGVudGVyZWQgaW4gbmFtZSBmaWVsZFxuICAgICAgICB2YXIgbmFtZXMgPSBuYW1lLnNwbGl0KCcgJyk7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBuYW1lc1tpXSA9IGNhcGl0YWxpemUobmFtZXNbaV0pXG4gICAgICAgIH1cbiAgICAgICAgbmFtZSA9IG5hbWVzLmpvaW4oJyAnKTtcblxuICAgICAgICAvLyBDYXBpdGFsaXplIGxldHRlcnMgZm9sbG93aW5nIHNpbmdsZSBxdW90ZXMgZXg6IE8nTmVpbFxuICAgICAgICBuYW1lcyA9IG5hbWUuc3BsaXQoXCInXCIpO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbmFtZXNbaV0gPSBjYXBpdGFsaXplKG5hbWVzW2ldKVxuICAgICAgICB9XG4gICAgICAgIG5hbWUgPSBuYW1lcy5qb2luKFwiJ1wiKTtcblxuICAgICAgICAvLyBTZXJ2ZXIgZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHNlYXJjaCBpcyBiZWluZyBkb25lIGJ5IGxvb2tpbmcgYXQgdGhlIG5hbWUgb2YgdGhlIGtleSBpbiB0aGUgb2JqZWN0IHNlbnQgaGVyZVxuICAgICAgICBzZWFyY2hTVkMuc2VhcmNoKHtuYW1lOm5hbWV9KVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVzdWx0cyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBzZWFyY2hTVkMuc2V0Q2FjaGUocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5uYW1lID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmRpc3BsYXkgPSBuYW1lO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2VhcmNoQnlEZXB0ID0gZnVuY3Rpb24gKGRlcHQpIHtcblxuICAgICAgICAvLyBTZXJ2ZXIgZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHNlYXJjaCBpcyBiZWluZyBkb25lIGJ5IGxvb2tpbmcgYXQgdGhlIG5hbWUgb2YgdGhlIGtleSBpbiB0aGUgb2JqZWN0IHNlbnQgaGVyZVxuICAgICAgICBzZWFyY2hTVkMuc2VhcmNoKHtkZXB0OmRlcHR9KVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVzdWx0cyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBzZWFyY2hTVkMuc2V0Q2FjaGUocmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuZGVwdCA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gZGVwdDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNlYXJjaEJ5Q2FtcHVzID0gZnVuY3Rpb24gKGNhbXB1cykge1xuXG4gICAgICAgIC8vIFNlcnZlciBkZXRlY3RzIHdoaWNoIHR5cGUgb2Ygc2VhcmNoIGlzIGJlaW5nIGRvbmUgYnkgbG9va2luZyBhdCB0aGUgbmFtZSBvZiB0aGUga2V5IGluIHRoZSBvYmplY3Qgc2VudCBoZXJlXG4gICAgICAgIHNlYXJjaFNWQy5zZWFyY2goe2NhbXB1czpjYW1wdXN9KVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVzdWx0cyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBzZWFyY2hTVkMuc2V0Q2FjaGUocmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuY2FtcHVzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmRpc3BsYXkgPSBjYW1wdXM7XG4gICAgfTtcblxuICAgIC8vIElmIHVzZXIgY2xpY2sgb24gb25lIG9mIHRoZSBwZW9wbGUgaW4gdGhlIHRhYmxlIGl0IHNlbmRzIHRoZSBpZCB0byB0aGUgc2VydmVyIGFuZCBncmFicyBhbGwgb2YgdGhhdCBwZXJzb24ncyBpbmZvIHRoZW4gcmVkaXJlY3RzIHRvIGRldGFpbHMgcGFnZVxuICAgICRzY29wZS5kZXRhaWxzID0gZnVuY3Rpb24oaWQpe1xuICAgICAgICAkc3RhdGUuZ28oJ2RldGFpbHMnLHtpZDogaWR9KSAvLyBUaGUgaWQgaXMgYWxzbyBwYXNzZWQgaW50byB0aGUgVVJMIGhlcmVcbiAgICB9O1xuXG4gICAgLy8gVGhpcyBsb2FkcyB0aGUgZGVwYXJ0bWVudCBzZWFyY2ggZHJvcCBkb3duXG4gICAgJHNjb3BlLnByZWxvYWQgPSBwcmVsb2FkT0JKLmRhdGE7XG59KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDMvMjMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdzYWxhcnlHdWlkZScpXG4uc2VydmljZSgnc2VhcmNoU1ZDJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgICAgIC8vIFRoaXMgc2VuZHMgYSBwb3N0IHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQgd2l0aCB0aGUgbmFtZS9kZXBhcnRtZW50L2NhbXB1cyBhdHRhY2hlZFxuICAgICAgICB0aGlzLnNlYXJjaCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZWFyY2gnLCBpdGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhpcyBzZW5kcyBhIHBvc3QgcmVxdWVzdCB0byB0aGUgZGV0YWlscyBwYWdlIHdpdGggdGhlIHBlcnNvbiBvYmogYXR0YWNoZWRcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2RldGFpbHMnLCBpdGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2V0Q2FjaGUgPSBmdW5jdGlvbihzZWFyY2gpe1xuICAgICAgICAgICAgdGhpcy5jYWNoZSA9IHNlYXJjaDtcbiAgICAgICAgfTtcbn0pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=