angular.module("salaryGuide",["ui.router"]),angular.module("salaryGuide").service("adSVC",function(){var e={desktop:!0,phone:!1};this.getDevice=function(){var t=window.innerWidth;return t>500&&(e.desktop=!0,e.phone=!1),500>t&&(e.desktop=!1,e.phone=!0),e}}),angular.module("salaryGuide").controller("detailCTRL",["$scope","$stateParams","searchSVC","adSVC",function(e,t,a,i){a.details({id:t.id}).success(function(t){e.person=t}),e.device=i.getDevice(),$(window).resize(function(){e.$apply(function(){e.device=i.getDevice()})})}]),angular.module("salaryGuide").controller("mainCTRL",["$scope","adSVC",function(e,t){$(document).ready(function(){$("#carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0,variableWidth:!0,centerMode:!0})}),e.device=t.getDevice(),$(window).resize(function(){e.$apply(function(){e.device=t.getDevice()})})}]),angular.module("salaryGuide").config(["$stateProvider",function(e,t){e.state("home",{url:"/",templateUrl:"index.html",controller:"mainCTRL"}).state("search",{url:"/search",templateUrl:"search.html",controller:"searchCTRL",resolve:{preloadOBJ:["$http",function(e){return e({method:"GET",url:"/api/departments"})}]}}).state("details",{url:"/details/:id",templateUrl:"details.html",controller:"detailCTRL"})}]).run(["$state",function(e){e.go("home"),$(document).foundation()}]),angular.module("salaryGuide").controller("searchCTRL",["$scope","searchSVC","$location","$state","adSVC","preloadOBJ",function(e,t,a,i,n,s){function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}e.results=[],t.cache?(e.results=t.cache,e.display=!0):(e.results=null,e.display=null),e.searchByName=function(a){for(var i=a.split(" "),n=0;n<i.length;n++)i[n]=c(i[n]);a=i.join(" "),i=a.split("'");for(var n=0;n<i.length;n++)i[n]=c(i[n]);a=i.join("'"),t.search({name:a}).success(function(a){e.results=a,t.setCache(a)}),e.name=null,e.display=a},e.searchByDept=function(a){t.search({dept:a}).success(function(a){e.results=a,t.setCache(a)}),e.dept=null,e.display=a},e.searchByCampus=function(a){t.search({campus:a}).success(function(a){e.results=a,t.setCache(a)}),e.campus=null,e.display=a},e.details=function(e){i.go("details",{id:e})},e.device=n.getDevice(),$(window).resize(function(){e.$apply(function(){e.device=n.getDevice()})}),e.preload=s.data}]),angular.module("salaryGuide").service("searchSVC",["$http",function(e){this.search=function(t){return e.post("/api/search",t)},this.details=function(t){return e.post("/api/details",t)},this.cache=null,this.setCache=function(e){this.cache=e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkdmVydGlzZW1lbnRTVkMuanMiLCJkZXRhaWxzQ1RSTC5qcyIsIm1haW5DVFJMLmpzIiwicm91dGVzLmpzIiwic2VhcmNoQ1RSTC5qcyIsInNlYXJjaFNWQy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZSIsImRldmljZSIsImRlc2t0b3AiLCJwaG9uZSIsInRoaXMiLCJnZXREZXZpY2UiLCJkZXZpY2VXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlUGFyYW1zIiwic2VhcmNoU1ZDIiwiYWRTVkMiLCJkZXRhaWxzIiwiaWQiLCJzdWNjZXNzIiwiZSIsInBlcnNvbiIsIiQiLCJyZXNpemUiLCIkYXBwbHkiLCJkb2N1bWVudCIsInJlYWR5Iiwic2xpY2siLCJpbmZpbml0ZSIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiYXJyb3dzIiwiYWRhcHRpdmVIZWlnaHQiLCJ2YXJpYWJsZVdpZHRoIiwiY2VudGVyTW9kZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwic2VhcmNoU3ZjIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwcmVsb2FkT0JKIiwiJGh0dHAiLCJtZXRob2QiLCJydW4iLCIkc3RhdGUiLCJnbyIsImZvdW5kYXRpb24iLCIkbG9jYXRpb24iLCJjYXBpdGFsaXplIiwid29yZCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJyZXN1bHRzIiwiY2FjaGUiLCJkaXNwbGF5Iiwic2VhcmNoQnlOYW1lIiwibmFtZSIsIm5hbWVzIiwic3BsaXQiLCJpIiwibGVuZ3RoIiwiam9pbiIsInNlYXJjaCIsInJlc3VsdCIsInNldENhY2hlIiwic2VhcmNoQnlEZXB0IiwiZGVwdCIsInNlYXJjaEJ5Q2FtcHVzIiwiY2FtcHVzIiwicHJlbG9hZCIsImRhdGEiLCJpdGVtIiwicG9zdCJdLCJtYXBwaW5n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QVcsRUFDQW5ELEVBQUFvRCxTQUFBRCxLQUVBckQsRUFBQXdELEtBQUEsS0FDQXhELEVBQUE0QyxRQUFBWSxHQUdBeEQsRUFBQXlELGVBQUEsU0FBQUMsR0FHQXhELEVBQUFrRCxRQUFBTSxPQUFBQSxJQUNBcEQsUUFBQSxTQUFBK0MsR0FDQXJELEVBQUEwQyxRQUFBVyxFQUNBbkQsRUFBQW9ELFNBQUFELEtBRUFyRCxFQUFBMEQsT0FBQSxLQUNBMUQsRUFBQTRDLFFBQUFjLEdBSUExRCxFQUFBSSxRQUFBLFNBQUFDLEdBQ0E0QixFQUFBQyxHQUFBLFdBQUE3QixHQUFBQSxLQUlBTCxFQUFBVCxPQUFBWSxFQUFBUixZQUNBYyxFQUFBWixRQUFBYSxPQUFBLFdBQ0FWLEVBQUFXLE9BQUEsV0FDQVgsRUFBQVQsT0FBQVksRUFBQVIsZ0JBS0FLLEVBQUEyRCxRQUFBOUIsRUFBQStCLFFDakZBeEUsUUFBQUMsT0FBQSxlQUNBQyxRQUFBLGFBQUEsUUFBQSxTQUFBd0MsR0FFQXBDLEtBQUEwRCxPQUFBLFNBQUFTLEdBQ0EsTUFBQS9CLEdBQUFnQyxLQUFBLGNBQUFELElBR0FuRSxLQUFBVSxRQUFBLFNBQUF5RCxHQUNBLE1BQUEvQixHQUFBZ0MsS0FBQSxlQUFBRCxJQUVBbkUsS0FBQWlELE1BQUEsS0FDQWpELEtBQUE0RCxTQUFBLFNBQUFGLEdBQ0ExRCxLQUFBaUQsTUFBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGVsaSBvbiAzLzIzLzE1LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnc2FsYXJ5R3VpZGUnLCBbJ3VpLnJvdXRlciddKTtcbiIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gNC8xNC8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJzYWxhcnlHdWlkZVwiKVxuLnNlcnZpY2UoJ2FkU1ZDJyxmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZGV2aWNlID0ge1xuICAgICAgICAgICAgZGVza3RvcDogdHJ1ZSxcbiAgICAgICAgICAgIHBob25lOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldERldmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBTZXRzIGZsYWdzIGZvciB3aGljaCBkZXZpY2UgaXMgYmVpbmcgdXNlZCB0byBpbmplY3QgdGhlIHByb3BlciBhZCBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgIHZhciBkZXZpY2VXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICAgICAgICBpZihkZXZpY2VXaWR0aCA+IDUwMCl7XG4gICAgICAgICAgICAgICAgZGV2aWNlLmRlc2t0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRldmljZS5waG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGV2aWNlV2lkdGggPCA1MDApe1xuICAgICAgICAgICAgICAgIGRldmljZS5kZXNrdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZGV2aWNlLnBob25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VcbiAgICAgICAgfVxuICAgIH0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yNi8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5jb250cm9sbGVyKCdkZXRhaWxDVFJMJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIHNlYXJjaFNWQywgYWRTVkMpe1xuICAgICAgICBzZWFyY2hTVkMuZGV0YWlscyh7aWQ6JHN0YXRlUGFyYW1zLmlkfSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICRzY29wZS5wZXJzb24gPSBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS5kZXZpY2UgPSBhZFNWQy5nZXREZXZpY2UoKTtcbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICRzY29wZS5kZXZpY2UgPSBhZFNWQy5nZXREZXZpY2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yNi8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5jb250cm9sbGVyKCdtYWluQ1RSTCcsZnVuY3Rpb24oJHNjb3BlLCBhZFNWQyl7XG4gICAgICAgIC8vIFRoaXMgaXMgZm9yIHRoZSBzdG9yeSBjYXJvdXNlbCBvbiB0aGUgbWFpbiBwYWdlXG4gICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKFwiI2Nhcm91c2VsXCIpLnNsaWNrKHtcbiAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUuZGV2aWNlID0gYWRTVkMuZ2V0RGV2aWNlKCk7XG4gICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGV2aWNlID0gYWRTVkMuZ2V0RGV2aWNlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDMvMjMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdzYWxhcnlHdWlkZScpXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJyxmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgc2VhcmNoU3ZjKXtcbiAgICAgICAgLy8gVGhlc2Ugc3RhdGVzIGNvcnJlc3BvbmQgdG8gdGhlIHBhZ2VzIG9uIHRoZSBhcHAuIEhvb2tzIHVwIHRlbXBsYXRlcyBhbmQgdmlld3NcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLHtcbiAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpbmRleC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ1RSTCdcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdzZWFyY2gnLHtcbiAgICAgICAgICAgIHVybDogJy9zZWFyY2gnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzZWFyY2guaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnc2VhcmNoQ1RSTCcsXG4gICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgcHJlbG9hZE9CSjogZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRodHRwKHttZXRob2Q6J0dFVCcsdXJsOicvYXBpL2RlcGFydG1lbnRzJ30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKCdkZXRhaWxzJyx7XG4gICAgICAgICAgICAgICAgLy8gVGhlIDppZCBpcyB0aGUgc3RyaW5nIHBhc3NlZCBpbiBmcm9tIHRoZSBVUkwgY29ycmVzcG9uZHMgdG8gdGhlIHBlcnNvbklEIGluIHRoZSB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgIHVybDogJy9kZXRhaWxzLzppZCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2RldGFpbHMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnZGV0YWlsQ1RSTCdcbiAgICAgICAgfSlcbiAgICB9XSlcbiAgICAucnVuKFsnJHN0YXRlJyxmdW5jdGlvbigkc3RhdGUpe1xuICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgJChkb2N1bWVudCkuZm91bmRhdGlvbigpO1xuICAgIH1dKTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDMvMjMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdzYWxhcnlHdWlkZScpXG4uY29udHJvbGxlcignc2VhcmNoQ1RSTCcsZnVuY3Rpb24oJHNjb3BlLCBzZWFyY2hTVkMsICRsb2NhdGlvbiwgJHN0YXRlLCBhZFNWQywgcHJlbG9hZE9CSil7XG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZSh3b3JkKSB7XG4gICAgICAgIHJldHVybiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKTtcbiAgICB9XG4gICAgJHNjb3BlLnJlc3VsdHMgPSBbXTtcblxuICAgIC8vIFRoaXMgaXMgZm9yIHNhdmluZyBzZWFyY2hlcyB3aGVuIG5hdmlnYXRpbmcgYmFjayBmcm9tIHRoZSBkZXRhaWxzIHBhZ2VcbiAgICBpZiAoc2VhcmNoU1ZDLmNhY2hlKXtcbiAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSBzZWFyY2hTVkMuY2FjaGU7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUucmVzdWx0cyA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gbnVsbDtcbiAgICB9XG5cblxuICAgICRzY29wZS5zZWFyY2hCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgIC8vIENhcGl0YWxpemUgZmlyc3QgbGV0dGVyIGluIGVhY2ggd29yZCBlbnRlcmVkIGluIG5hbWUgZmllbGRcbiAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbmFtZXNbaV0gPSBjYXBpdGFsaXplKG5hbWVzW2ldKVxuICAgICAgICB9XG4gICAgICAgIG5hbWUgPSBuYW1lcy5qb2luKCcgJyk7XG5cbiAgICAgICAgLy8gQ2FwaXRhbGl6ZSBsZXR0ZXJzIGZvbGxvd2luZyBzaW5nbGUgcXVvdGVzIGV4OiBPJ05laWxcbiAgICAgICAgbmFtZXMgPSBuYW1lLnNwbGl0KFwiJ1wiKTtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIG5hbWVzW2ldID0gY2FwaXRhbGl6ZShuYW1lc1tpXSlcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gbmFtZXMuam9pbihcIidcIik7XG5cbiAgICAgICAgLy8gU2VydmVyIGRldGVjdHMgd2hpY2ggdHlwZSBvZiBzZWFyY2ggaXMgYmVpbmcgZG9uZSBieSBsb29raW5nIGF0IHRoZSBuYW1lIG9mIHRoZSBrZXkgaW4gdGhlIG9iamVjdCBzZW50IGhlcmVcbiAgICAgICAgc2VhcmNoU1ZDLnNlYXJjaCh7bmFtZTpuYW1lfSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2VhcmNoU1ZDLnNldENhY2hlKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUubmFtZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gbmFtZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNlYXJjaEJ5RGVwdCA9IGZ1bmN0aW9uIChkZXB0KSB7XG5cbiAgICAgICAgLy8gU2VydmVyIGRldGVjdHMgd2hpY2ggdHlwZSBvZiBzZWFyY2ggaXMgYmVpbmcgZG9uZSBieSBsb29raW5nIGF0IHRoZSBuYW1lIG9mIHRoZSBrZXkgaW4gdGhlIG9iamVjdCBzZW50IGhlcmVcbiAgICAgICAgc2VhcmNoU1ZDLnNlYXJjaCh7ZGVwdDpkZXB0fSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2VhcmNoU1ZDLnNldENhY2hlKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLmRlcHQgPSBudWxsO1xuICAgICAgICAkc2NvcGUuZGlzcGxheSA9IGRlcHQ7XG4gICAgfTtcblxuICAgICRzY29wZS5zZWFyY2hCeUNhbXB1cyA9IGZ1bmN0aW9uIChjYW1wdXMpIHtcblxuICAgICAgICAvLyBTZXJ2ZXIgZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHNlYXJjaCBpcyBiZWluZyBkb25lIGJ5IGxvb2tpbmcgYXQgdGhlIG5hbWUgb2YgdGhlIGtleSBpbiB0aGUgb2JqZWN0IHNlbnQgaGVyZVxuICAgICAgICBzZWFyY2hTVkMuc2VhcmNoKHtjYW1wdXM6Y2FtcHVzfSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2VhcmNoU1ZDLnNldENhY2hlKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLmNhbXB1cyA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gY2FtcHVzO1xuICAgIH07XG5cbiAgICAvLyBJZiB1c2VyIGNsaWNrIG9uIG9uZSBvZiB0aGUgcGVvcGxlIGluIHRoZSB0YWJsZSBpdCBzZW5kcyB0aGUgaWQgdG8gdGhlIHNlcnZlciBhbmQgZ3JhYnMgYWxsIG9mIHRoYXQgcGVyc29uJ3MgaW5mbyB0aGVuIHJlZGlyZWN0cyB0byBkZXRhaWxzIHBhZ2VcbiAgICAkc2NvcGUuZGV0YWlscyA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgJHN0YXRlLmdvKCdkZXRhaWxzJyx7aWQ6IGlkfSlcbiAgICB9O1xuXG4gICAgLy8gVGhpcyBpcyB1c2VkIHRvIHBsYWNlIHRoZSBhZHMgb24gdGhlIHBhZ2VcbiAgICAkc2NvcGUuZGV2aWNlID0gYWRTVkMuZ2V0RGV2aWNlKCk7XG4gICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkc2NvcGUuZGV2aWNlID0gYWRTVkMuZ2V0RGV2aWNlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gVGhpcyBsb2FkcyB0aGUgZGVwYXJ0bWVudCBzZWFyY2ggZHJvcCBkb3duXG4gICAgJHNjb3BlLnByZWxvYWQgPSBwcmVsb2FkT0JKLmRhdGE7XG59KTsiLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDMvMjMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdzYWxhcnlHdWlkZScpXG4uc2VydmljZSgnc2VhcmNoU1ZDJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgICAgIC8vIFRoaXMgc2VuZHMgYSBwb3N0IHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQgd2l0aCB0aGUgbmFtZS9kZXBhcnRtZW50L2NhbXB1cyBhdHRhY2hlZFxuICAgICAgICB0aGlzLnNlYXJjaCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZWFyY2gnLCBpdGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhpcyBzZW5kcyBhIHBvc3QgcmVxdWVzdCB0byB0aGUgZGV0YWlscyBwYWdlIHdpdGggdGhlIHBlcnNvbiBvYmogYXR0YWNoZWRcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2RldGFpbHMnLCBpdGVtKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2V0Q2FjaGUgPSBmdW5jdGlvbihzZWFyY2gpe1xuICAgICAgICAgICAgdGhpcy5jYWNoZSA9IHNlYXJjaDtcbiAgICAgICAgfTtcbn0pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=