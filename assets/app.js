angular.module("salaryGuide",["ui.router"]),angular.module("salaryGuide").controller("adCTRL",["$scope","adSVC",function(e,a){e.device=a.getDevice(),$(window).resize(function(){e.$apply(function(){e.device=a.getDevice()})})}]),angular.module("salaryGuide").service("adSVC",function(){var e={desktop:!0,phone:!1};this.getDevice=function(){var a=window.innerWidth;return a>500&&(e.desktop=!0,e.phone=!1),500>a&&(e.desktop=!1,e.phone=!0),e}}),angular.module("salaryGuide").controller("detailCTRL",["$scope","$stateParams","searchSVC","adSVC","$controller",function(e,a,t,s,l){l("adCTRL",{$scope:e}),t.details({id:a.id}).success(function(a){e.person=a})}]),angular.module("salaryGuide").controller("mainCTRL",["$scope","adSVC","$controller",function(e,a,t){t("adCTRL",{$scope:e}),$(document).ready(function(){$("#carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0,variableWidth:!0,centerMode:!0})})}]),angular.module("salaryGuide").config(["$stateProvider",function(e,a){e.state("home",{url:"/",templateUrl:"index.html",controller:"mainCTRL"}).state("search",{url:"/search",templateUrl:"search.html",controller:"searchCTRL",resolve:{preloadOBJ:["$http",function(e){return e({method:"GET",url:"/api/departments"})}]}}).state("details",{url:"/details/:id",templateUrl:"details.html",controller:"detailCTRL"})}]).run(["$state",function(e){e.go("home"),$(document).foundation()}]),angular.module("salaryGuide").controller("searchCTRL",["$scope","searchSVC","$location","$state","adSVC","preloadOBJ","$controller",function(e,a,t,s,l,n,r){function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}r("adCTRL",{$scope:e}),e.results=[],a.cache?(e.results=a.cache,e.display=!0):(e.results=null,e.display=null),e.searchByName=function(t){for(var s=t.split(" "),l=0;l<s.length;l++)s[l]=o(s[l]);t=s.join(" "),s=t.split("'");for(var l=0;l<s.length;l++)s[l]=o(s[l]);t=s.join("'"),a.search({name:t}).success(function(t){e.results=t,a.setCache(t)}),e.name=null,e.display=t},e.searchByDept=function(t){a.search({dept:t}).success(function(t){e.results=t,a.setCache(t)}),e.dept=null,e.display=t},e.searchByCampus=function(t){a.search({campus:t}).success(function(t){e.results=t,a.setCache(t)}),e.campus=null,e.display=t},e.details=function(e){s.go("details",{id:e})},e.preload=n.data}]),angular.module("salaryGuide").service("searchSVC",["$http",function(e){this.search=function(a){return e.post("/api/search",a)},this.details=function(a){return e.post("/api/details",a)},this.cache=null,this.setCache=function(e){this.cache=e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFkQ1RSTC5qcyIsImFkdmVydGlzZW1lbnRTVkMuanMiLCJkZXRhaWxzQ1RSTC5qcyIsIm1haW5DVFJMLmpzIiwicm91dGVzLmpzIiwic2VhcmNoQ1RSTC5qcyIsInNlYXJjaFNWQy5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsImFkU1ZDIiwiZGV2aWNlIiwiZ2V0RGV2aWNlIiwiJCIsIndpbmRvdyIsInJlc2l6ZSIsIiRhcHBseSIsInNlcnZpY2UiLCJkZXNrdG9wIiwicGhvbmUiLCJ0aGlzIiwiZGV2aWNlV2lkdGgiLCJpbm5lcldpZHRoIiwiJHN0YXRlUGFyYW1zIiwic2VhcmNoU1ZDIiwiJGNvbnRyb2xsZXIiLCJkZXRhaWxzIiwiaWQiLCJzdWNjZXNzIiwiZSIsInBlcnNvbiIsImRvY3VtZW50IiwicmVhZHkiLCJzbGljayIsImluZmluaXRlIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJhcnJvd3MiLCJhZGFwdGl2ZUhlaWdodCIsInZhcmlhYmxlV2lkdGgiLCJjZW50ZXJNb2RlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzZWFyY2hTdmMiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwicmVzb2x2ZSIsInByZWxvYWRPQkoiLCIkaHR0cCIsIm1ldGhvZCIsInJ1biIsIiRzdGF0ZSIsImdvIiwiZm91bmRhdGlvbiIsIiRsb2NhdGlvbiIsImNhcGl0YWxpemUiLCJ3b3JkIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInJlc3VsdHMiLCJjYWNoZSIsImRpc3BsYXkiLCJzZWFyY2hCeU5hbWUiLCJuYW1lIiwibmFtZXMiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJqb2luIiwic2VhcmNoIiwicmVzdWx0Iiwic2V0Q2FjaGUiLCJzZWFyY2hCeURlcHQiLCJkZXB0Iiwic2VhcmNoQnlDYW1wdXMiLCJjYW1wdXMiLCJwcmVsb2FkIiwiZGF0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Q0F4RCxFQUFBc0QsUUFBQUUsR0FHQXhELEVBQUFpRSxhQUFBLFNBQUFDLEdBR0FuRCxFQUFBK0MsUUFBQUksS0FBQUEsSUFDQS9DLFFBQUEsU0FBQTRDLEdBQ0EvRCxFQUFBb0QsUUFBQVcsRUFDQWhELEVBQUFpRCxTQUFBRCxLQUVBL0QsRUFBQWtFLEtBQUEsS0FDQWxFLEVBQUFzRCxRQUFBWSxHQUdBbEUsRUFBQW1FLGVBQUEsU0FBQUMsR0FHQXJELEVBQUErQyxRQUFBTSxPQUFBQSxJQUNBakQsUUFBQSxTQUFBNEMsR0FDQS9ELEVBQUFvRCxRQUFBVyxFQUNBaEQsRUFBQWlELFNBQUFELEtBRUEvRCxFQUFBb0UsT0FBQSxLQUNBcEUsRUFBQXNELFFBQUFjLEdBSUFwRSxFQUFBaUIsUUFBQSxTQUFBQyxHQUNBeUIsRUFBQUMsR0FBQSxXQUFBMUIsR0FBQUEsS0FJQWxCLEVBQUFxRSxRQUFBOUIsRUFBQStCLFFDN0VBekUsUUFBQUMsT0FBQSxlQUNBVSxRQUFBLGFBQUEsUUFBQSxTQUFBZ0MsR0FFQTdCLEtBQUFtRCxPQUFBLFNBQUFTLEdBQ0EsTUFBQS9CLEdBQUFnQyxLQUFBLGNBQUFELElBR0E1RCxLQUFBTSxRQUFBLFNBQUFzRCxHQUNBLE1BQUEvQixHQUFBZ0MsS0FBQSxlQUFBRCxJQUVBNUQsS0FBQTBDLE1BQUEsS0FDQTFDLEtBQUFxRCxTQUFBLFNBQUFGLEdBQ0FuRCxLQUFBMEMsTUFBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGVsaSBvbiAzLzIzLzE1LlxuICovXG5cbi8vIFRoaXMgbmVlZHMgdG8gYmUgbG9hZGVkIGZpcnN0IGJlY2F1c2UgaXQgZGVmaW5lcyB0aGUgZGVwZW5kZW5jaWVzLiBUaGUgZ3VscCB0YXNrIHdpbGwgYWx3YXlzIGNvbmNhdCB0aGlzIHRvIHRoZSB0b3Agb2YgZmlsZVxuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJywgWyd1aS5yb3V0ZXInXSk7XG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDUvMTMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwic2FsYXJ5R3VpZGVcIilcbi5jb250cm9sbGVyKFwiYWRDVFJMXCIsZnVuY3Rpb24oJHNjb3BlLCBhZFNWQyl7XG4gICAgLy8gVGhpcyBjaGVja3MgdG8gc2VlIHdoYXQgc2l6ZSBhZHMgdG8gZGlzcGxheVxuICAgICRzY29wZS5kZXZpY2UgPSBhZFNWQy5nZXREZXZpY2UoKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICRzY29wZS5kZXZpY2UgPSBhZFNWQy5nZXREZXZpY2UoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KSIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gNC8xNC8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJzYWxhcnlHdWlkZVwiKVxuLnNlcnZpY2UoJ2FkU1ZDJyxmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZGV2aWNlID0ge1xuICAgICAgICAgICAgZGVza3RvcDogdHJ1ZSxcbiAgICAgICAgICAgIHBob25lOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldERldmljZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBTZXRzIGZsYWdzIGZvciB3aGljaCBkZXZpY2UgaXMgYmVpbmcgdXNlZCB0byBpbmplY3QgdGhlIHByb3BlciBhZCBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgIHZhciBkZXZpY2VXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICAgICAgICBpZihkZXZpY2VXaWR0aCA+IDUwMCl7XG4gICAgICAgICAgICAgICAgZGV2aWNlLmRlc2t0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRldmljZS5waG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGV2aWNlV2lkdGggPCA1MDApe1xuICAgICAgICAgICAgICAgIGRldmljZS5kZXNrdG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZGV2aWNlLnBob25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VcbiAgICAgICAgfVxuICAgIH0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yNi8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5jb250cm9sbGVyKCdkZXRhaWxDVFJMJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsIHNlYXJjaFNWQywgYWRTVkMsICRjb250cm9sbGVyKXtcbiAgICAgICAgLy8gSW5oZXJpdCBmcm9tIGFkQ1RSTFxuICAgICAgICAkY29udHJvbGxlcignYWRDVFJMJyx7JHNjb3BlOiAkc2NvcGV9KTtcbiAgICAgICAgLy8gR2V0cyB1c2VyaWQgZnJvbSBVUkwgYW5kIHNlbmRzIGl0IHRvIHNlcnZlciB0byBnZXQgYWxsIHRoZSBpbmZvIG9uIHRoYXQgcGVyc29uXG4gICAgICAgIHNlYXJjaFNWQy5kZXRhaWxzKHtpZDokc3RhdGVQYXJhbXMuaWR9KVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbiA9IGU7XG4gICAgICAgICAgICB9KTtcbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yNi8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5jb250cm9sbGVyKCdtYWluQ1RSTCcsZnVuY3Rpb24oJHNjb3BlLCBhZFNWQywgJGNvbnRyb2xsZXIpe1xuXG4gICAgICAgIC8vIEluaGVyaXQgZnJvbSBhZENUUkxcbiAgICAgICAgJGNvbnRyb2xsZXIoJ2FkQ1RSTCcseyRzY29wZTogJHNjb3BlfSk7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBmb3IgdGhlIHN0b3J5IGNhcm91c2VsIG9uIHRoZSBtYWluIHBhZ2VcbiAgICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoXCIjY2Fyb3VzZWxcIikuc2xpY2soe1xuICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICBhcnJvd3M6IHRydWUsXG4gICAgICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7IiwiLyoqXG4gKiBDcmVhdGVkIGJ5IGVsaSBvbiAzLzIzLzE1LlxuICovXG5cbi8vIFRvIGFkZCBhIG5ldyBwYWdlIHRvIHRoZSBzaXRlLCB5b3Ugd2lsbCBiZSBhZGRpbmcgYSBzdGF0ZSBoZXJlLCBzZXR0aW5nIHRoZSBVUkwgYW5kIHRlbXBsYXRlIGZpbGUsIGFuZCBjb25uZWN0aW5nIGl0IHRvIGEgY29udHJvbGxlci5cbi8vIE9wdGlvbmFsbHksIHRoZSByZXNvbHZlIG1ldGhvZCB0YWtlcyBhbiBvYmplY3Qgb2YgZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZC4gR29vZCBmb3IgcHJlbG9hZGluZyBkYXRhXG5hbmd1bGFyLm1vZHVsZSgnc2FsYXJ5R3VpZGUnKVxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsIHNlYXJjaFN2Yyl7XG4gICAgICAgIC8vIFRoZXNlIHN0YXRlcyBjb3JyZXNwb25kIHRvIHRoZSBwYWdlcyBvbiB0aGUgYXBwLiBIb29rcyB1cCB0ZW1wbGF0ZXMgYW5kIHZpZXdzXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJyx7XG4gICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaW5kZXguaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbWFpbkNUUkwnXG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnc2VhcmNoJyx7XG4gICAgICAgICAgICB1cmw6ICcvc2VhcmNoJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2VhcmNoLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3NlYXJjaENUUkwnLFxuICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgcXVlcmllcyB0aGUgc2VydmVyIGZvciBkaXN0aW5jdCBkZXBhcnRtZW50cyBhbmQgcHJlbG9hZHMgdGhlIGRlcGFydG1lbnRzIGRyb3AgZG93blxuICAgICAgICAgICAgICAgIHByZWxvYWRPQko6IGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cCh7bWV0aG9kOidHRVQnLHVybDonL2FwaS9kZXBhcnRtZW50cyd9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5zdGF0ZSgnZGV0YWlscycse1xuICAgICAgICAgICAgICAgIC8vIFRoZSA6aWQgaXMgdGhlIHN0cmluZyBwYXNzZWQgaW4gZnJvbSB0aGUgVVJMIGNvcnJlc3BvbmRzIHRvIHRoZSBwZXJzb25JRCBpbiB0aGUgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICB1cmw6ICcvZGV0YWlscy86aWQnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdkZXRhaWxzLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ2RldGFpbENUUkwnXG4gICAgICAgIH0pXG4gICAgfV0pXG4gICAgLnJ1bihbJyRzdGF0ZScsZnVuY3Rpb24oJHN0YXRlKXtcbiAgICAgICAgLy8gRXZlcnl0aGluZyBpbnNpZGUgaGVyZSB3aWxsIGJlIHJ1biBvbmUgdGltZSBvbmNlIHRoZSBhcHAgaGFzIGxvYWRlZC4gR29vZCBwbGFjZSB0byBpbml0aWFsaXplIGFueXRoaW5nIHlvdSB3aWxsIGJlIHVzaW5nXG4gICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgICAgICAkKGRvY3VtZW50KS5mb3VuZGF0aW9uKCk7XG4gICAgfV0pO1xuXG4iLCIvKipcbiAqIENyZWF0ZWQgYnkgZWxpIG9uIDMvMjMvMTUuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdzYWxhcnlHdWlkZScpXG4uY29udHJvbGxlcignc2VhcmNoQ1RSTCcsZnVuY3Rpb24oJHNjb3BlLCBzZWFyY2hTVkMsICRsb2NhdGlvbiwgJHN0YXRlLCBhZFNWQywgcHJlbG9hZE9CSiwgJGNvbnRyb2xsZXIpe1xuXG4gICAgLy8gVGhpcyB0ZWxscyB0aGUgcGFnZSB0byBpbmhlcml0IGZyb20gdGhlIGFkQ1RSTFxuICAgICRjb250cm9sbGVyKCdhZENUUkwnLHskc2NvcGU6ICRzY29wZX0pO1xuXG4gICAgZnVuY3Rpb24gY2FwaXRhbGl6ZSh3b3JkKSB7XG4gICAgICAgIHJldHVybiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKTtcbiAgICB9XG4gICAgJHNjb3BlLnJlc3VsdHMgPSBbXTtcblxuICAgIC8vIFRoaXMgaXMgZm9yIHNhdmluZyBzZWFyY2hlcyB3aGVuIG5hdmlnYXRpbmcgYmFjayBmcm9tIHRoZSBkZXRhaWxzIHBhZ2VcbiAgICBpZiAoc2VhcmNoU1ZDLmNhY2hlKXtcbiAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSBzZWFyY2hTVkMuY2FjaGU7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUucmVzdWx0cyA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gbnVsbDtcbiAgICB9XG5cblxuICAgICRzY29wZS5zZWFyY2hCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXG4gICAgICAgIC8vIENhcGl0YWxpemUgZmlyc3QgbGV0dGVyIGluIGVhY2ggd29yZCBlbnRlcmVkIGluIG5hbWUgZmllbGRcbiAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbmFtZXNbaV0gPSBjYXBpdGFsaXplKG5hbWVzW2ldKVxuICAgICAgICB9XG4gICAgICAgIG5hbWUgPSBuYW1lcy5qb2luKCcgJyk7XG5cbiAgICAgICAgLy8gQ2FwaXRhbGl6ZSBsZXR0ZXJzIGZvbGxvd2luZyBzaW5nbGUgcXVvdGVzIGV4OiBPJ05laWxcbiAgICAgICAgbmFtZXMgPSBuYW1lLnNwbGl0KFwiJ1wiKTtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIG5hbWVzW2ldID0gY2FwaXRhbGl6ZShuYW1lc1tpXSlcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gbmFtZXMuam9pbihcIidcIik7XG5cbiAgICAgICAgLy8gU2VydmVyIGRldGVjdHMgd2hpY2ggdHlwZSBvZiBzZWFyY2ggaXMgYmVpbmcgZG9uZSBieSBsb29raW5nIGF0IHRoZSBuYW1lIG9mIHRoZSBrZXkgaW4gdGhlIG9iamVjdCBzZW50IGhlcmVcbiAgICAgICAgc2VhcmNoU1ZDLnNlYXJjaCh7bmFtZTpuYW1lfSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2VhcmNoU1ZDLnNldENhY2hlKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkc2NvcGUubmFtZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gbmFtZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNlYXJjaEJ5RGVwdCA9IGZ1bmN0aW9uIChkZXB0KSB7XG5cbiAgICAgICAgLy8gU2VydmVyIGRldGVjdHMgd2hpY2ggdHlwZSBvZiBzZWFyY2ggaXMgYmVpbmcgZG9uZSBieSBsb29raW5nIGF0IHRoZSBuYW1lIG9mIHRoZSBrZXkgaW4gdGhlIG9iamVjdCBzZW50IGhlcmVcbiAgICAgICAgc2VhcmNoU1ZDLnNlYXJjaCh7ZGVwdDpkZXB0fSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2VhcmNoU1ZDLnNldENhY2hlKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLmRlcHQgPSBudWxsO1xuICAgICAgICAkc2NvcGUuZGlzcGxheSA9IGRlcHQ7XG4gICAgfTtcblxuICAgICRzY29wZS5zZWFyY2hCeUNhbXB1cyA9IGZ1bmN0aW9uIChjYW1wdXMpIHtcblxuICAgICAgICAvLyBTZXJ2ZXIgZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHNlYXJjaCBpcyBiZWluZyBkb25lIGJ5IGxvb2tpbmcgYXQgdGhlIG5hbWUgb2YgdGhlIGtleSBpbiB0aGUgb2JqZWN0IHNlbnQgaGVyZVxuICAgICAgICBzZWFyY2hTVkMuc2VhcmNoKHtjYW1wdXM6Y2FtcHVzfSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdHMgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2VhcmNoU1ZDLnNldENhY2hlKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLmNhbXB1cyA9IG51bGw7XG4gICAgICAgICRzY29wZS5kaXNwbGF5ID0gY2FtcHVzO1xuICAgIH07XG5cbiAgICAvLyBJZiB1c2VyIGNsaWNrIG9uIG9uZSBvZiB0aGUgcGVvcGxlIGluIHRoZSB0YWJsZSBpdCBzZW5kcyB0aGUgaWQgdG8gdGhlIHNlcnZlciBhbmQgZ3JhYnMgYWxsIG9mIHRoYXQgcGVyc29uJ3MgaW5mbyB0aGVuIHJlZGlyZWN0cyB0byBkZXRhaWxzIHBhZ2VcbiAgICAkc2NvcGUuZGV0YWlscyA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgJHN0YXRlLmdvKCdkZXRhaWxzJyx7aWQ6IGlkfSk7IC8vIFRoZSBpZCBpcyBhbHNvIHBhc3NlZCBpbnRvIHRoZSBVUkwgaGVyZVxuICAgIH07XG5cbiAgICAvLyBUaGlzIGxvYWRzIHRoZSBkZXBhcnRtZW50IHNlYXJjaCBkcm9wIGRvd25cbiAgICAkc2NvcGUucHJlbG9hZCA9IHByZWxvYWRPQkouZGF0YTtcbn0pOyIsIi8qKlxuICogQ3JlYXRlZCBieSBlbGkgb24gMy8yMy8xNS5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3NhbGFyeUd1aWRlJylcbi5zZXJ2aWNlKCdzZWFyY2hTVkMnLCBmdW5jdGlvbiAoJGh0dHApIHtcbiAgICAgICAgLy8gVGhpcyBzZW5kcyBhIHBvc3QgcmVxdWVzdCB0byB0aGUgYmFja2VuZCB3aXRoIHRoZSBuYW1lL2RlcGFydG1lbnQvY2FtcHVzIGF0dGFjaGVkXG4gICAgICAgIHRoaXMuc2VhcmNoID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3NlYXJjaCcsIGl0ZW0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUaGlzIHNlbmRzIGEgcG9zdCByZXF1ZXN0IHRvIHRoZSBkZXRhaWxzIHBhZ2Ugd2l0aCB0aGUgcGVyc29uIG9iaiBhdHRhY2hlZFxuICAgICAgICB0aGlzLmRldGFpbHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvZGV0YWlscycsIGl0ZW0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhY2hlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXRDYWNoZSA9IGZ1bmN0aW9uKHNlYXJjaCl7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0gc2VhcmNoO1xuICAgICAgICB9O1xufSk7XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
